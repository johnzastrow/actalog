# ActaLog Environment Configuration
# Copy this file to .env and update with your values

# Application Environment
APP_ENV=development
LOG_LEVEL=info

# Application URL (used for password reset links in emails)
# In development, this should match where you access the frontend
APP_URL=http://localhost:3000

# Logging Configuration
# Enable file logging (logs to ./logs/actalog.log by default)
# Recommended: false for development (use stdout), true for production if not using log aggregation
LOG_FILE_ENABLED=false
LOG_FILE_PATH=./logs/actalog.log
LOG_MAX_SIZE_MB=100
LOG_MAX_BACKUPS=3

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=15s
SERVER_WRITE_TIMEOUT=15s
SERVER_IDLE_TIMEOUT=60s

# Database Configuration
# Supported drivers: sqlite3, postgres, mysql
DB_DRIVER=sqlite3
DB_HOST=localhost
DB_PORT=5432
DB_USER=actalog
DB_PASSWORD=changeme
DB_NAME=actalog.db
DB_SSLMODE=disable

# PostgreSQL-specific configuration
# DB_SCHEMA is used with PostgreSQL to specify the schema (default: public)
# DB_SCHEMA=actalog

# Connection pooling configuration (PostgreSQL and MySQL only)
# DB_MAX_OPEN_CONNS: Maximum number of open connections (default: 25)
# DB_MAX_IDLE_CONNS: Maximum number of idle connections (default: 5)
# DB_CONN_MAX_LIFETIME: Maximum connection lifetime (default: 5m)
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# For PostgreSQL in production:
# DB_DRIVER=postgres
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=actalog
# DB_PASSWORD=your_secure_password
# DB_NAME=actalog
# DB_SCHEMA=public
# DB_SSLMODE=require
# DB_MAX_OPEN_CONNS=25
# DB_MAX_IDLE_CONNS=5
# DB_CONN_MAX_LIFETIME=5m

# For MySQL/MariaDB in production:
# DB_DRIVER=mysql
# DB_HOST=localhost
# DB_PORT=3306
# DB_USER=actalog
# DB_PASSWORD=your_secure_password
# DB_NAME=actalog
# DB_SSLMODE is not used with MySQL
# DB_MAX_OPEN_CONNS=25
# DB_MAX_IDLE_CONNS=5
# DB_CONN_MAX_LIFETIME=5m

# JWT Configuration
# IMPORTANT: Generate a strong secret for production!
# You can use: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRATION=24h
JWT_ISSUER=actalog

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:8080,http://localhost:3000

# Registration Configuration
# Set to false to close registration after first user (admin)
# First user is always allowed and becomes admin automatically
ALLOW_REGISTRATION=true
REQUIRE_EMAIL_VERIFICATION=false

# OpenTelemetry Configuration (Optional)
# OpenTelemetry endpoint for exporting traces and metrics
# OpenTelemetry is an observability framework for cloud-native software
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=actalog
OTEL_TRACES_ENABLED=false
OTEL_METRICS_ENABLED=false

# File Upload Configuration
MAX_UPLOAD_SIZE=5242880  # 5MB in bytes
UPLOAD_DIR=./uploads

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m

# Email Configuration (Optional - for password reset and email verification)
# Leave EMAIL_ENABLED=false if you don't need email features
EMAIL_ENABLED=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-smtp-password
EMAIL_FROM=Your App <noreply@example.com>
EMAIL_FROM_NAME=ActaLog

# For Gmail SMTP:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password  # Use app-specific password, not your Gmail password
# EMAIL_FROM=Your Name <your-email@gmail.com>

# For production with SSL/TLS (port 465):
# SMTP_PORT=465
# Ensure your SMTP provider supports SSL on port 465
